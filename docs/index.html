<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Custos AWS Glue</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üí∞ Calculadora de Custos AWS Glue</h1>
            <p class="subtitle">Estime o custo de execu√ß√£o do seu Glue Job</p>
        </header>

        <main>
            <div class="calculator-card">
                <form id="costCalculator">
                    <div class="form-section">
                        <h2>‚öôÔ∏è Configura√ß√µes do Job</h2>
                        
                        <div class="form-group checkbox-group">
                            <label class="checkbox-label">
                                <input 
                                    type="checkbox" 
                                    id="hasFreeTier" 
                                    name="hasFreeTier" 
                                    checked
                                >
                                <span>Conta possui Free Tier (12 meses gratuitos)</span>
                                <span class="tooltip" data-tooltip="O AWS Free Tier oferece recursos gratuitos por 12 meses para novos clientes. Marque esta op√ß√£o se sua conta ainda est√° no per√≠odo de free tier.">‚ÑπÔ∏è</span>
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label for="executionTime">
                                Tempo de Execu√ß√£o (minutos)
                                <span class="tooltip" data-tooltip="Tempo total de execu√ß√£o do job em minutos">‚ÑπÔ∏è</span>
                            </label>
                            <input 
                                type="number" 
                                id="executionTime" 
                                name="executionTime" 
                                min="0.1" 
                                step="0.1" 
                                value="5" 
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label for="workerType">
                                Tipo de Worker
                                <span class="tooltip" data-tooltip="Tipo de inst√¢ncia do worker. Cada tipo tem uma quantidade diferente de DPUs">‚ÑπÔ∏è</span>
                            </label>
                            <select id="workerType" name="workerType" required>
                                <option value="G.025X">G.025X (0.25 DPU) - Menor custo</option>
                                <option value="G.1X" selected>G.1X (1 DPU) - Recomendado</option>
                                <option value="G.2X">G.2X (2 DPUs) - Maior performance</option>
                                <option value="G.4X">G.4X (4 DPUs)</option>
                                <option value="G.8X">G.8X (8 DPUs) - M√°xima performance</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="numberOfWorkers">
                                N√∫mero de Workers
                                <span class="tooltip" data-tooltip="Quantidade de workers que ser√£o utilizados na execu√ß√£o">‚ÑπÔ∏è</span>
                            </label>
                            <input 
                                type="number" 
                                id="numberOfWorkers" 
                                name="numberOfWorkers" 
                                min="1" 
                                value="2" 
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label for="executionType">
                                Tipo de Execu√ß√£o
                                <span class="tooltip" data-tooltip="Standard: execu√ß√£o normal ($0.44 por DPU-hora na maioria das regi√µes). FLEX: utiliza capacidade ociosa com pre√ßo reduzido ($0.29 por DPU-hora), mas pode ter maior lat√™ncia de inicializa√ß√£o">‚ÑπÔ∏è</span>
                            </label>
                            <select id="executionType" name="executionType" required>
                                <option value="standard" selected>Standard</option>
                                <option value="flex">FLEX ($0.29 por DPU-hora)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="awsRegion">
                                Regi√£o AWS
                                <span class="tooltip" data-tooltip="A regi√£o pode afetar ligeiramente os pre√ßos">‚ÑπÔ∏è</span>
                            </label>
                            <select id="awsRegion" name="awsRegion" required>
                                <option value="us-east-1">us-east-1 (N. Virginia)</option>
                                <option value="us-east-2">us-east-2 (Ohio)</option>
                                <option value="us-west-1">us-west-1 (N. California)</option>
                                <option value="us-west-2">us-west-2 (Oregon)</option>
                                <option value="sa-east-1" selected>sa-east-1 (S√£o Paulo)</option>
                                <option value="eu-west-1">eu-west-1 (Ireland)</option>
                                <option value="eu-central-1">eu-central-1 (Frankfurt)</option>
                                <option value="ap-southeast-1">ap-southeast-1 (Singapore)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2>üìä Custos Adicionais (Opcional)</h2>
                        
                        <div class="form-group">
                            <label for="dataCatalogObjects">
                                Objetos no Data Catalog (milh√µes)
                                <span class="tooltip" data-tooltip="Primeiro 1 milh√£o √© gratuito, depois $1.00 por 100.000 objetos/m√™s">‚ÑπÔ∏è</span>
                            </label>
                            <input 
                                type="number" 
                                id="dataCatalogObjects" 
                                name="dataCatalogObjects" 
                                min="0" 
                                step="0.1" 
                                value="0"
                            >
                        </div>

                        <div class="form-group">
                            <label for="crawlerExecutionTime">
                                Tempo de Execu√ß√£o do Crawler (minutos)
                                <span class="tooltip" data-tooltip="Se voc√™ usa crawlers, adicione o tempo de execu√ß√£o aqui">‚ÑπÔ∏è</span>
                            </label>
                            <input 
                                type="number" 
                                id="crawlerExecutionTime" 
                                name="crawlerExecutionTime" 
                                min="0" 
                                step="0.1" 
                                value="0"
                            >
                        </div>
                    </div>

                    <div class="form-section">
                        <h2>üìÖ Frequ√™ncia de Execu√ß√£o (Opcional)</h2>
                        <p class="section-description">Informe a frequ√™ncia de execu√ß√£o para calcular custos semanais e mensais</p>
                        
                        <div class="form-group">
                            <label for="executionFrequency">
                                Frequ√™ncia
                                <span class="tooltip" data-tooltip="Selecione com que frequ√™ncia o job ser√° executado">‚ÑπÔ∏è</span>
                            </label>
                            <select id="executionFrequency" name="executionFrequency">
                                <option value="single">Execu√ß√£o √∫nica (apenas custo por execu√ß√£o)</option>
                                <option value="daily">Di√°ria</option>
                                <option value="weekly">Semanal</option>
                                <option value="monthly">Mensal</option>
                                <option value="custom">Personalizada</option>
                            </select>
                        </div>

                        <div class="form-group" id="executionsPerPeriodGroup" style="display: none;">
                            <label for="executionsPerPeriod">
                                Execu√ß√µes por per√≠odo
                                <span class="tooltip" data-tooltip="Quantas vezes o job ser√° executado no per√≠odo selecionado">‚ÑπÔ∏è</span>
                            </label>
                            <input 
                                type="number" 
                                id="executionsPerPeriod" 
                                name="executionsPerPeriod" 
                                min="1" 
                                value="1"
                            >
                            <span id="periodLabel" style="margin-left: 10px; color: var(--text-light);"></span>
                        </div>
                    </div>

                    <button type="submit" class="calculate-btn">Calcular Custo</button>
                </form>

                <div id="results" class="results hidden">
                    <h2>üíµ Resultado da Estimativa</h2>
                    
                    <div class="result-card">
                        <div class="result-item">
                            <span class="result-label">Custo do Job (ETL):</span>
                            <span class="result-value" id="jobCost">$0.00</span>
                        </div>
                        <div class="result-details" id="jobDetails"></div>
                    </div>

                    <div class="result-card" id="crawlerCard" style="display: none;">
                        <div class="result-item">
                            <span class="result-label">Custo do Crawler:</span>
                            <span class="result-value" id="crawlerCost">$0.00</span>
                        </div>
                        <div class="result-details" id="crawlerDetails"></div>
                    </div>

                    <div class="result-card" id="catalogCard" style="display: none;">
                        <div class="result-item">
                            <span class="result-label">Custo do Data Catalog:</span>
                            <span class="result-value" id="catalogCost">$0.00</span>
                        </div>
                        <div class="result-details" id="catalogDetails"></div>
                    </div>

                    <div class="result-card total-card">
                        <div class="result-item">
                            <span class="result-label total-label">Custo Total por Execu√ß√£o:</span>
                            <span class="result-value total-value" id="totalCost">$0.00</span>
                        </div>
                    </div>

                    <div class="result-card" id="weeklyCard" style="display: none;">
                        <div class="result-item">
                            <span class="result-label">Custo Semanal:</span>
                            <span class="result-value" id="weeklyCost">$0.00</span>
                        </div>
                        <div class="result-details" id="weeklyDetails"></div>
                    </div>

                    <div class="result-card" id="monthlyCard" style="display: none;">
                        <div class="result-item">
                            <span class="result-label">Custo Mensal:</span>
                            <span class="result-value" id="monthlyCost">$0.00</span>
                        </div>
                        <div class="result-details" id="monthlyDetails"></div>
                    </div>

                    <div class="result-card info-card">
                        <h3>‚ÑπÔ∏è Informa√ß√µes Importantes</h3>
                        <ul>
                            <li>Faturamento m√≠nimo: <strong>1 minuto</strong> por job</li>
                            <li>Faturamento por <strong>segundo</strong> ap√≥s o primeiro minuto</li>
                            <li>Pre√ßos variam por regi√£o (ex: sa-east-1 = $0.60/DPU-hora, us-east-1 = $0.44/DPU-hora)</li>
                            <li>FLEX: $0.29 por DPU-hora (vs $0.44 Standard) - pode ter maior lat√™ncia de inicializa√ß√£o</li>
                            <li><strong>Fonte:</strong> <a href="https://aws.amazon.com/glue/pricing/" target="_blank">AWS Glue Pricing</a> (atualizado: Janeiro 2025)</li>
                            <li>Valores s√£o estimativas baseadas em pre√ßos p√∫blicos da AWS</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>üìö <a href="https://github.com" target="_blank">Ver reposit√≥rio no GitHub</a></p>
            <p>üîó <a href="https://aws.amazon.com/glue/pricing/" target="_blank">Pre√ßos oficiais da AWS Glue</a></p>
            <p class="disclaimer">‚ö†Ô∏è Valores s√£o estimativas baseadas em pre√ßos p√∫blicos da AWS. Consulte a documenta√ß√£o oficial para valores atualizados.</p>
        </footer>
    </div>

    <script src="calculator.js"></script>
</body>
</html>

